# =============================================================================
# TETHER - Environment Variables
# =============================================================================
# Copy this file to .env and modify as needed:
#   cp .env.example .env
#
# IMPORTANT: Never commit .env to version control!
# =============================================================================

# -----------------------------------------------------------------------------
# Rust Server Configuration
# -----------------------------------------------------------------------------

# Path to tether configuration file
# Default: /etc/tether/config.toml (on Pi), ./config/dev.toml (local dev)
TETHER_CONFIG=./config/dev.toml

# Logging level: error, warn, info, debug, trace
# Format: RUST_LOG=tether_server=debug,tether_core=info
# Use 'debug' for development, 'info' for production
RUST_LOG=debug

# Server bind address
# Default: 0.0.0.0:3000
TETHER_BIND_ADDR=0.0.0.0:3000

# Enable development mode (disables certain production checks)
TETHER_DEV_MODE=true

# -----------------------------------------------------------------------------
# Bluetooth Configuration (Development)
# -----------------------------------------------------------------------------

# Mock Bluetooth for development (no real Bluetooth hardware)
TETHER_MOCK_BLUETOOTH=true

# Simulated Bluetooth device name
TETHER_MOCK_DEVICE_NAME="Mock iPhone"

# Simulated RSSI signal strength (-100 to 0, closer to 0 = stronger)
TETHER_MOCK_DEVICE_RSSI=-45

# -----------------------------------------------------------------------------
# Wi-Fi Configuration (Development)
# -----------------------------------------------------------------------------

# Mock Wi-Fi for development
TETHER_MOCK_WIFI=true

# Skip network connectivity checks in development
TETHER_SKIP_NETWORK_CHECK=true

# -----------------------------------------------------------------------------
# dumbpipe / iroh Configuration
# -----------------------------------------------------------------------------

# Pre-generated dumbpipe ticket (for development/testing)
# Leave empty to generate new ticket on startup
TETHER_DUMBPIPE_TICKET=

# Disable dumbpipe in development (no P2P connectivity)
TETHER_DISABLE_DUMBPIPE=true

# -----------------------------------------------------------------------------
# Data Storage
# -----------------------------------------------------------------------------

# Directory for persistent data (passes, logs, etc.)
# Default: /var/lib/tether (on Pi), ./data (local dev)
TETHER_DATA_DIR=./data

# Log file location
# Default: /var/log/tether/tether.log (on Pi), ./logs/tether.log (local dev)
TETHER_LOG_FILE=./logs/tether.log

# -----------------------------------------------------------------------------
# MCP Server Configuration
# -----------------------------------------------------------------------------

# dumbpipe ticket for connecting to the Raspberry Pi
# REQUIRED for MCP server to function
# Get this from the Pi's web UI after setup
MCP_DUMBPIPE_TICKET=

# Local port for dumbpipe tunnel
# Default: 38080
TETHER_LOCAL_PORT=38080

# MCP transport mode: stdio or streamable-http
# Default: stdio
MCP_TRANSPORT=stdio

# Port for HTTP transport (only used when MCP_TRANSPORT=streamable-http)
# Default: 8080
MCP_HTTP_PORT=8080

# -----------------------------------------------------------------------------
# Cloud Deployment (MCP Server)
# -----------------------------------------------------------------------------

# Google Cloud Project ID
GCP_PROJECT=your-project-id

# Google Cloud region for Cloud Run
GCP_REGION=us-central1

# Cloud Run service name
CLOUD_RUN_SERVICE=tether-mcp

# Artifact Registry repository
ARTIFACT_REGISTRY=${GCP_REGION}-docker.pkg.dev/${GCP_PROJECT}/tether

# -----------------------------------------------------------------------------
# Development Tools
# -----------------------------------------------------------------------------

# Enable OpenAPI export mode (for generate-openapi script)
# When set, the server outputs OpenAPI JSON to stdout and exits
TETHER_EXPORT_OPENAPI=false

# Web UI development server port
WEB_DEV_PORT=5173

# Enable CORS for local development
TETHER_ENABLE_CORS=true

# CORS allowed origins (comma-separated)
TETHER_CORS_ORIGINS=http://localhost:5173,http://127.0.0.1:5173

# -----------------------------------------------------------------------------
# Testing
# -----------------------------------------------------------------------------

# Use in-memory storage for tests
TETHER_TEST_MODE=false

# Seed data for development (creates sample pass history)
TETHER_SEED_DATA=false
